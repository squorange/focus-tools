import{j as e}from"./jsx-runtime-DF2Pcvd1.js";import{r as n}from"./index-B2-qRKKC.js";import{r as N}from"./index-kS-9iBlu.js";import{u as _,A as B,m as r}from"./useReducedMotion-Cc5HMhSj.js";function m({isOpen:s,onClose:i,height:p="50vh",zIndex:l=60,showBackdrop:h=!0,children:g}){const a=_(),[y,d]=n.useState(0),[u,c]=n.useState(!1),[b,v]=n.useState(!1),[x,w]=n.useState(!1);n.useEffect(()=>{v(!0)},[]),n.useEffect(()=>{if(typeof window>"u"||!window.visualViewport)return;const t=window.visualViewport,o=t.height,f=()=>{const S=o-t.height;w(S>150)};return t.addEventListener("resize",f),()=>t.removeEventListener("resize",f)},[]),n.useEffect(()=>{if(s){const t=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=t}}},[s]);const j=(t,o)=>{(o.offset.y>100||o.offset.y>50&&o.velocity.y>500)&&i(),d(0)},E=a?{duration:0}:{type:"spring",stiffness:400,damping:30},k=e.jsx(B,{children:s&&e.jsxs(e.Fragment,{children:[h&&e.jsx(r.div,{className:"fixed inset-0 bg-bg-backdrop",style:{zIndex:l-1},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:a?0:.2},onClick:i}),e.jsxs(r.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:E,drag:"y",dragConstraints:{top:0,bottom:0},dragElastic:{top:0,bottom:.3},onDrag:(t,o)=>d(o.offset.y),onDragEnd:j,className:"fixed inset-x-0 bottom-0 bg-bg-glass-floating-panel backdrop-blur-lg border-t border-border-color-glass-floating-panel rounded-t-3xl shadow-elevation-high flex flex-col",style:{zIndex:l,height:p,opacity:Math.max(.7,1-y/300)},children:[e.jsx("button",{type:"button",onClick:i,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),className:"w-full pt-3 pb-2 flex justify-center cursor-pointer bg-transparent border-0 flex-shrink-0 touch-none","aria-label":"Close",children:e.jsxs(r.div,{className:"relative w-10 h-1 flex",children:[e.jsx(r.div,{className:"w-5 h-1 rounded-l-full bg-fg-neutral-disabled origin-right",animate:{rotate:u&&!a?15:0},transition:{duration:a?0:.15}}),e.jsx(r.div,{className:"w-5 h-1 rounded-r-full bg-fg-neutral-disabled origin-left",animate:{rotate:u&&!a?-15:0},transition:{duration:a?0:.15}})]})}),e.jsx("div",{className:"flex-1 flex flex-col min-h-0",style:{"--safe-area-bottom":x?"0px":"env(safe-area-inset-bottom)"},children:g})]})]})});return b?N.createPortal(k,document.body):null}try{m.displayName="BottomSheet",m.__docgenInfo={description:`BottomSheet - A mobile-friendly slide-up modal.

Features:
- Slides up from bottom with spring animation
- Drag to dismiss (swipe down)
- Backdrop click to close
- Respects reduced motion preferences
- Keyboard-aware (sets --safe-area-bottom to 0 when keyboard is open)
- Portal rendering to avoid transform parent issues`,displayName:"BottomSheet",props:{isOpen:{defaultValue:null,description:"Whether the sheet is open",name:"isOpen",required:!0,type:{name:"boolean"}},onClose:{defaultValue:null,description:"Close handler",name:"onClose",required:!0,type:{name:"() => void"}},height:{defaultValue:{value:"50vh"},description:"Height of the sheet (e.g., '50vh', '70vh', 'auto')",name:"height",required:!1,type:{name:"string"}},zIndex:{defaultValue:{value:"60"},description:"Z-index (default 60)",name:"zIndex",required:!1,type:{name:"number"}},showBackdrop:{defaultValue:{value:"true"},description:"Show backdrop (default true)",name:"showBackdrop",required:!1,type:{name:"boolean"}},children:{defaultValue:null,description:"Sheet content",name:"children",required:!0,type:{name:"ReactNode"}}}}}catch{}export{m as B};
